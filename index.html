<!DOCTYPE html>
<html lang="zh-TW">
  <head>
    <meta charset="UTF-8">
    <title>igov 安心政府</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" type="text/css" href="css/reset.css">
    <link rel="stylesheet" type="text/css" href="https://code.jquery.com/ui/1.11.4/themes/smoothness/jquery-ui.css">
    <link rel="stylesheet" type="text/css" href="css/index.css">
  </head>
  <body></body>
  <section id="header">
    <div class="container">
      <div class="row">
        <div><img src="image/igov-logo.svg" class="brand"></div>
      </div>
      <div class="row">
        <div class="form-control search">
          <div id="form" class="form">
            <input id="search" type="text" placeholder="搜尋" class="form-input search-bar">
          </div><a target="_blank" id="searchButton" class="button">前往</a>
        </div>
      </div>
    </div>
  </section>
  <section id="service">
    <div class="container">
      <div class="list">
      </div>
    </div>
  </section>
  <section id="intro">
    <div class="container">
      <div class="row grid-2-col">
        <div class="col">
          <h2 class="title">一、安心政府 igov 的緣起</h2>
          <p>近來台灣的詐騙總金額早已超過 189.5 億之譜，且 DailyView 去年 8 月利用大數據在網路上進行分析，發現網路詐騙行為的最大宗就是散佈假連結（高達 44% 的比例）。而政府線上服務種類繁多，複雜的網站設計更會讓使用者去尋覓不可靠的外在網站，有更高機率接觸到惡意的病毒連結。</p>
          <p>因此「安心政府 igov 」的設計理念就是以簡潔的圖示串聯各政府部門的民生服務，讓民眾在單一頁面操作就能迅速找到需要的政府網站，貫徹「對的服務提供給對的人」。</p>
        </div>
        <div class="col">
          <div class="graph percent">
            <div class="set">
              <div class="number">44<span class="percentage">%</span></div>
              <div class="label">網路詐騙行為利用假連結</div>
            </div>
            <div class="set">
              <div class="number">94<span class="percentage">%</span></div>
              <div class="label">民眾希望有個整合的政府網站</div>
            </div>
          </div>
        </div>
      </div>
      <div class="row grid-2-col">
        <div class="col">
          <h2 class="title">二、使用對象研究</h2>
          <p>「安心政府 igov」試圖打造適合各年齡層皆能使用自如的整合性網站，因此本團隊針對多位成年民眾進行使用者需求分析，採用線上調查法與簡短訪談，蒐集到有效樣本 34 個，受訪民眾平均年齡為 29.5 歲。</p>
          <p>資料經過系統性整理後得出以下結論：
            <ul>
              <li>目前政府網站面臨到服務項目多而分散的困境。</li>
              <li>且在漫漫的網路空間裡難以被使用者發現。</li>
              <li>民眾與政府間缺少有效的對接窗口。</li>
            </ul>
          </p>
          <p>本研究進一步去分析民眾平時使用政府網站的行為落點，發現民眾常到訪的 12 種網站類型，並發展成「安心政府 igov」的主要服務選項。</p>
        </div>
        <div class="col">
          <div class="graph barchart"></div>
        </div>
      </div>
    </div>
  </section>
  <section id="footer">
    <div class="container">
      <div class="col">
        <div class="col"><img src="image/igov-logo-white.svg" class="icon igov"></div>
        <div class="col slogan"><span>Suitable</span><span>Secure</span><span>Smart</span></div>
      </div>
      <div class="col">
        <div class="col"><img src="image/fb-icon.png" class="icon"></div>
        <div class="col"><a href="https://www.facebook.com/iGov.service/" target="_blank">安心政府i-Gov</a></div>
      </div>
    </div>
  </section>
  <script id="tmplItem" type="text/x-jquery-tmpl">
    <div class="col-3">
    <div class="list-item ${name}" data-list="${dataList}" name="${name}">
    	<div class="list-icon"></div><span class="label">${label}</span>
    </div>
    </div>
  </script>
  <script id="tmplFolder" type="text/x-jquery-tmpl">
    <div class="col-12">
    <div class="tip"></div>
    <div class="list-item ${name}">
    {{each links}}<span class="sub-item"><span class="icon"></span><a href="${$value.href}" target="_blank">${$value.title}</a></span>{{/each}}
    </div>
    </div>
  </script>
  <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.4/jquery.min.js"></script>
  <script type="text/javascript" src="http://ajax.microsoft.com/ajax/jquery.templates/beta1/jquery.tmpl.min.js"></script>
  <script type="text/javascript" src="https://code.jquery.com/ui/1.11.4/jquery-ui.js"></script>
  <script type="text/javascript" src="js/service-data.js"></script>
  <script type="text/javascript">
    // for autocomplete
    var data = [];
    $.each($boxes, function(i, val){
    	$name = $boxes[i].name;
    	$.each($Links[$name].links, function(index, value){
    		data.push({
    			label: value.title,
    			value: value.href,
    			category: $boxes[i].label,
    		});
    	});
    });
    $('#search').autocomplete({
    	minLength: 0,
    	source: data,
    	focus: function(event, ui) {
    		//- console.log(ui.item.eng)
    		$("#search").val( ui.item.label );
    		$("#searchButton").attr('href', ui.item.value);
    		return false;
    	},
    	select: function(event, ui) {
    		//- console.log(ui.item);
    		$("#search").val(ui.item.label);
    		$("#searchButton").attr('href', ui.item.value);
    		return false;
    	}
    }).autocomplete( "instance" )._renderItem = function(ul, item) {
    	$a = $("<a href='"+item.value+"' target='_blank'></a>")
    		.append( "<span class='category'>" + item.category + "</span>")
    		.append( "<span class='label'>" + item.label + "</span>" );
    	return $("<li>").append($a).appendTo(ul);
    };
  </script>
  <script type="text/javascript">
    // for sub-items
    $.each($boxes, function(i, value){
    	$boxes[i].dataList = JSON.stringify($Links[$boxes[i].name]);
    });
    $('#tmplItem').tmpl($boxes).appendTo( $('#service .list') );
    $('#service .list-item').click(function(){
    	$_this = $(this);
    	$('.list .list-item').removeClass('active');
    	$data = $_this.attr('data-list');
    	$data = $.parseJSON($data);
    	$data.name = $_this.attr('name');
    	$n = $_this.parent('.col-3').prevAll('.col-3').length;
    	$a = $n+1;
    	//- console.log($n-$n%4+4);
    	if($n == $('.list').attr('data-open')) {
    		$('.list .col-12').slideUp(function(){$(this).remove()});
    		$('.list').removeAttr('anchor').removeAttr('data-open');
    		return;
    	}
    	
    	$cols = $('.list .col-3');
    	$_this.addClass('active');
    	$_this.parent('.col-3').nextAll('.col-3').each(function(){
    		//- console.log($($cols[$a-1]));
    		if($(this).offset().left <= $($cols[$a-1]).offset().left ){
    			return false;
    		}
    		$a++;
    		//- }
    	});
    	//- console.log($a);
    	$a--;
    	console.log($_this.position());
    	$tipLeft = $_this.position().left + $_this.parent().width()/2 - 12;
    	if($a == $('.list').attr('anchor')) {
    		$('.list .col-12').remove();
    		$('#tmplFolder').tmpl($data).insertAfter( $($cols[$a]) ).find('.tip').css('left', $tipLeft+"px");
    	} else {
    		$('.list .col-12').slideUp(function(){$(this).remove()});
    		$('#tmplFolder').tmpl($data).insertAfter( $($cols[$a]) ).hide().slideDown().find('.tip').css('left', $tipLeft+"px");;
    	}
    	$('.list').attr({'anchor': $a, 'data-open': $n});
    	//- console.log(	$('.list').children(':eq('+$n+')') );
    });
    //- $('.payment').clone().appendTo('.list');
  </script>
</html>